
<!-- saved from url=(0039)http://neerc.secna.ru/school/2016/f.htm -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">

<meta name="Generator" content="Microsoft Word 97">
<title> Problem F. Отборочный тур ВКОШП - 2016/2017</title>
<link rel="stylesheet" type="text/css" href="./Problem F. Отборочный тур ВКОШП - 2016_2017_files/style.css">
</head>
<body><font size="2"><p>

<!-- <body bgcolor="#e5f2f0" >   -->
<a href="http://neerc.secna.ru/school/2016/index.htm" class="main"> &lt; На  список задач</a>

<table border="0">
   <tbody><tr>
      <td> <img src="./Problem F. Отборочный тур ВКОШП - 2016_2017_files/216.jpg" align="center" width="300">  
      </td>
      <td> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      </td>
      <td> <h3>Задача F. Математика заклинания </h3>
               Имя входного файла: input.txt  <br>
               Имя выходного файла: output.txt <br>
               Ограничение по времени: 1.5 секунды<br>
               Ограничение по памяти: 256 Mb

      </td>
   </tr>
</tbody></table>

</p><p>

Рэдрик отправляется в Зону с напарником по прозвищу Стервятник Барбридж, 
прозванным так за жестокость по отношению к товарищам-сталкерам. 
Обратно Барбридж не может идти, потому что ему повредило ноги: 
он наступил в "ведьмин студень".
 Стервятник просит Рэда не бросать его, обещая 
рассказать, где в Зоне лежит Золотой шар, исполняющий все желания. 
Рэдрик не верит ему, считая Золотой шар выдумкой суеверных сталкеров, 
однако Барбридж уверяет, что Золотой шар существует и он уже получил от 
него многое.
Но для того, чтобы   Золотой шар выполнил желание, нужно повторить это
желание  
правильное количество раз - не больше и не меньше. 

</p><p>
Чтобы вычислить такое число, надо выполнить одну непростую операцию:
требуется  для всех написанных рядом с  шаром 
 <i> N </i> целых  положительных чисел <i> a1, a2, … , aN </i> 
выполнить операцию деления <i> a1  </i>  на каждое <i> ai</i>. 
Оказалось, что в некоторых случях нельзя получить конечную десятичную дробь. 
Иногда  в десятичной записи таких дробей есть периодическая часть.   
Максимальная длина периода для дробей  <i>a1/a1, a1/a2, a1/a3, … , a1/aN </i> 
и есть то нужное для Золотого шара число.

</p><p>
Помогите Рэдрику вычислить это число, ему оно очень нужно.

</p><p><b>Входные данные</b></p><p>
В первой строке дано число  <i> N </i> 
  - количество элементов в последовательности <i>(2 &#8804;  N &#8804; 10<sup>5</sup>)</i>.
Далее  перечислены все  элементы <i>ai</i>. Числа разделены одним или 
несколькими пробелами и/или переводами строки.


</p><p><b>Выходные данные</b></p><p>
В выходной файл выведите 
 длину максимального периода.
Если все дроби не имеют периода, то вывести 0.
Если у Вас получается, что есть хотя бы одна  бесконечная дробь, которая  не имеет периода, то вывести -1.



</p><p><b>Пример входного и выходного файлов</b></p><p>
</p><p>

<table class="example"> <!-- таблица  примеров input-output -->
  <tbody><tr>
     <th>   input.txt   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     </th>
     <th>   output.txt   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     </th>
  </tr>
  <tr valign="top">
     <td>  
<pre>3
1 3 25

</pre>
     </td>
     <td>    
<pre>1
</pre>
     </td>
  </tr>

  <tr valign="top">
     <td>  
<pre>3
1 2 5

</pre>
     </td>
     <td>    
<pre>0
</pre>
     </td>
  </tr>

  <tr valign="top">
     <td>  
<pre>2
8574 34

</pre>
     </td>
     <td>    
<pre>15
</pre>
     </td>
  </tr>


</tbody></table>   <!-- таблица  примеров input-output -->


</p></font></body></html>